---
ustreamer_group: ustreamer
ustreamer_user: ustreamer
ustreamer_dir: /opt/ustreamer
ustreamer_repo: https://github.com/pikvm/ustreamer.git
ustreamer_repo_version: master

# Network interface to listen for connections.
ustreamer_interface: null

# Port to listen for connections.
ustreamer_port: null

# Path to video device, such as /dev/video1.
ustreamer_video_path: null

# Encoding method to use, such as omx.
ustreamer_encoder: null

# Device input format, such as uyvy .
ustreamer_format: null

# Stream resolution, such as 1280x720.
ustreamer_resolution: null

# Desired frames per second.
ustreamer_desired_fps: null

# Number of workers.
ustreamer_workers: null

# Quality of the JPEG encoding from 1 to 100 (best).
ustreamer_quality: null

# Adjustment to stream brightness. This requires support from the
# capture hardware, and the value is an integer in some range
# depending on the hardware.
ustreamer_brightness: null

# Don't re-initialize device on timeout (for example when HDMI cable
# was disconnected). Can be either true or false.
ustreamer_persistent: null

# Use DV-timings.
ustreamer_use_dv_timings: null

# Number of same frames to drop.
ustreamer_drop_same_frames: null

# Set TCP_NODELAY to reduce buffering on video stream.
ustreamer_tcp_nodelay: null

# Presets to use for the video capture device.
# Options are:
#   * uvc - For a device that appears as a regular UVC video source.
#   * tc358743 - For HDMI to CSI devices based on the Toshiba TC358743 chip.
ustreamer_capture_device: null

# EDID for TC358743 chip.
ustreamer_edid: |
  00ffffffffffff005262888800888888
  2d1e0103800000780aee91a3544c9926
  0f505400000001010101010101010101
  010101010101011d007251d01e206e28
  5500c48e2100001e8c0ad08a20e02d10
  103e9600138e2100001e000000fc0054
  6f73686962612d4832430a20000000fd
  003b3d0f2e0f1e0a2020202020200135
  020321434e041303021211012021a23c
  3d3e1f2309070766030c00300080e300
  7f8c0ad08a20e02d10103e9600c48e21
  0000188c0ad08a20e02d10103e960013
  8e210000188c0aa01451f01600267c43
  00138e21000098000000000000000000
  00000000000000000000000000000000
  00000000000000000000000000000028

# Location to store EDID files.
ustreamer_edids_dir: /home/{{ ustreamer_user }}/edids

# Enable H264 video streaming via WebRTC. This will install the Janus WebRTC
# server, and compile and configure the uStreamer<>Janus plugin. If set to `no`,
# then all other H264/Janus-related settings are ignored.
ustreamer_with_h264: no

# The port where the Janus WebRTC server will listen.
ustreamer_janus_port: 8002

# For versions of uStreamer prior to 5.0, H264 sink options are only available
# when OpenMax IL hardware acceleration is enabled via the dynamically defined
# ustreamer_compile_omx variable.

# Use the specified shared memory object to sink H264 frames encoded by MMAL
# (e.g., tinypilot::ustreamer::h264). Disabled by default.
ustreamer_h264_sink: null

# Set permissions bitmask for H264 shared memory object (e.g., 777). Defaults
# to 660 when not set.
ustreamer_h264_sink_mode: null

# Remove shared memory on stop (e.g., yes). Defaults to no when not set.
ustreamer_h264_sink_rm: null
